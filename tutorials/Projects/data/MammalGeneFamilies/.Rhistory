library("ape")
install.packages("ape")
library(ape)
tree=read.tree("SpeciesTree_Ensembl109.nw")
counts=read.table("GeneFamilies_Mammals_Ensembl109_GeneCounts.txt", h=T, sep="\t", stringsAsFactors=F)
selected.species=intersect(tree$tip.label, colnames(counts))
filtered.tree=keep.tip(tree, selected.species)
write.tree(filtered.tree, file="SpeciesTree_Mammals_Ensembl109.nw") 
q()
